<html>
<head>
    <script src="https://etejadag.github.io/global-warming/roughviz.min.js"></script>
    <!--<script src="../roughviz.min.js"></script>--->
    <link href='https://fonts.googleapis.com/css?family=Gaegu' rel='stylesheet'>
    <style>
        .title {
            font-size: xx-large;
            font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
            text-align: center;
            margin: 20px 0 20px 0;
        }
        .container {
            margin-left: auto;
            margin-right: auto;
            width: 90%;
        }
        .anomalies {
            width: 100%;
            cursor: inherit;
        }
        .graphs {
            vertical-align: top;
            text-align: center;
            width: 100%;
            display: inline-block;
        }
        .explanation {
            column-count: 2;
            padding: 20px;
            vertical-align: top;
            font-size: x-large;
            font-family: 'Gaegu';
            display: inline-block;
            width: 100%;
            column-gap: 20px;
        }
        .explanation > p {
            margin: 0 0 1em 0;
        }
        .explanation > p:last-child {
            margin-bottom: 0;
        }
    </style>
</head>

<home>
    <div class="title">Yearly surface temperature compared to the 20th-century average (in Celsius)</div>
    <div class="container">
        <span class="graphs">
            <div id="viz0" class="anomalies"></div>
        </span>
        <span class="explanation">
            <p> Global average temperature is convenient for detecting and tracking changes in Earth's energy budget—how much sunlight
                Earth absorbs minus how much it radiates to space as heat—over time. It is calculated based on measurements taken at
                different locatons around the globe. This data is then expressed as anomalies: the difference between the temperature 
                observed and the long-term average for each location. Multiple research groups make these measurements and all of them
                show similar trends. </p>
        </span>
    </div>
    
    <div class="title">Same data but comparing land and ocean. Shockingly, oceans are huge ... heat stores, and that's a problem</div>
    <div class="container">
        <span class="graphs">
            <div id="viz1" class="anomalies"></div>
        </span>
        <span class="explanation">
            <p> The anomalies are less pronounced on ocean surfaces. The reason is the size and enourmous heat capacity of oceans. It
                takes a lot of energy to raise the oceans' surface temperature even by a small amount. That's why even small increases
                (like the 1 degree Celsius increase since the late 19th century) in the global average temperature of oceans is very
                significant in terms of accumulated heat. 
                
            <p> And accumulated heat creates a compounding effect (more on this later - this
                compounding effect and the fact that we don't understand it fully is what should scare us).
                Land surfaces warm a lot faster than most ocean areas. All this extra heat causes regional and seasonal temperature extrems,
                with consequences like reducing snow cover and sea ice (which triggers other things - remember: compounding effect), intensifying 
                rainfalls, changng habtat ranges, annd more.</p>
        </span>
    </div>

    <div class="title">Oh, this is all cyclic! It happened in the past ... except it didn't (though the cycles are real)</div>
    <div class="container">
        <span class="graphs">
            <div id="viz2" class="anomalies"></div>
            <div id="viz4" class="anomalies"></div>
            <div id="viz3" class="anomalies"></div>
        </span>
        <span class="explanation">
            <p> So, there are three time scales for cyclic climate variations: millenial, century-scale, and decadal (or less). 
                
            <p> <b><u>Millenial Cycles</u></b> refer to major glacial (cold) and interglacial (warm) periods (10,000 to 100,000 years). They are initiated by changes in
                the orbit of the Earth, which influence where solar radiation (insolation) is received on the surface. You can see how that affects insolation at 65oN in
                the graph above.
                Here is where the compouding effect
                that I mentioned before makes its first appearance: the changes in distribution of solar radiation are not 
                strong enough to cause temperature changes. However, they initiate powerful feedback mechanisms that amplify the slight warming or cooling
                effect. One of them is caused by ice melting at northern latitudes, which means that less sunlight is reflected and more is absorbed by the Earth, 
                causing more warming. 
                A second one is the concentration of atmospheric greenhouse gas (like CO2). The slight warming of the oceans make them release CO2. 
                And it's been proven that more CO2 causes, again, more warming. That's a powerful feedback mechanisms where slight warming leads 
                to more warming, which leads to more warming, and so on. In this way, what begins as fairly minor changes in orbit can produce the 
                glacial and interglacial cycles of the last 800,000 years.</p>
            
            <p> <b><u>Century-scale Climate Cycles</u></b>
                These are shorter cycles that happen every 200 to 1,500 years. We don't really understand what causses them but we believe that it's because of changes in the sun
                and ocean circulation patterns. There were two interesting events recorded caused by these shorter cycles: The Medieval Warm Period (900 to 1300 AD) and the 
                Little Ice Age (1450 to 1900 AD). The former was regional (North Atlantic, affecting Europe, Greenland and Iceland mostly). Understanding this regional 
                patters would help analyze future regional impact of climate change.</p>

            <p> <b><u>Interannual to Decadal Climate Cycles</u></b>
                You probably heard of El Niño or La Niña. These are examples of even shorter cycles (3 to 7 years), which are caused by ocean-atmosphere interactions. There are others like
                the Pacific Decadal Oscillation (25 to 45 years) and the Atlantic Multi-decadal Oscillation (65 to 85 years)</p>

            <p> <b><u>Implications</u></b>
                Natural climate cycles help understand what can happen because of the recent increase in greenhouse emissions (which are already causing deviations from expected 
                patterns - see graph below). 
                Here's the hypothesis that is scary: the current climate change is causing a feedback mechanism, similar to the one described in the paragraph about Millenial Cycles,
                that will trigger a runaway warming effect in modern times that will be extremely difficult to halt or reverse. The current rates of 
                global climate change are extremely rapid compared to past changes,
                and may produce conditions that have not been anticipated.</p>
        </span>
        <span class="graphs">
            <span id="viz5" class="anomalies"></span>
            <span id="viz6" class="anomalies"></span>
        </span>
    </div>
</home>

<script>
// create Bar chart from csv file, using default options
new roughViz.Bar({
    element: '#viz0', // container selection
    data: 'https://etejadag.github.io/global-warming/anomalies/data.csv',
    labels: 'Year',
    values: 'Value',
    color: 'coral',
    highlight: 'darkred',
    width: window.innerWidth * 0.90 ,
    tooltipFontSize: '2rem',
    xAxisFontSize: '0rem',
    yAxisFontSize: '2rem',
    labelFontSize: '2rem',
});

new roughViz.Line({
    element: '#viz1',
    data: 'https://etejadag.github.io/global-warming/anomalies/data-land-and-ocean.csv',
    y1: 'Land',
    y2: 'Ocean',
    xKey: 'Year',
    fillWeight: 1,
    roughness: 1,
    width: window.innerWidth * 0.90 ,
    height: 500,
    strokeWidth: 1,
    legendFontSize: '2rem',
    legendPosition: 'left',
    xAxisFontSize: '0rem',
    yAxisFontSize: '2rem',
    tooltipFontSize: '2rem',
  }
);

new roughViz.Line({
    element: '#viz2',
    data: 'https://etejadag.github.io/global-warming/anomalies/insolation.csv',
    y1: 'insolation',
    colors: ['orange'],
    xKey: 'Year',
    fillWeight: 1,
    roughness: 1,
    width: window.innerWidth * 0.90 ,
    height: 350,
    strokeWidth: 1,
    legend: false,
    xAxisFontSize: '0rem',
    yAxisFontSize: '2rem',
    yLabel: 'Insolation (at 65oN)',
    labelFontSize: '2rem',
    tooltipFontSize: '2rem',
    overlayStart1: '-337',
    overlayEnd1: '-325',
    overlayStart2: '-244',
    overlayEnd2: '-231',
    overlayStart3: '-132',
    overlayEnd3: '-119',
    overlayStart4: '-14',
    overlayEnd4: '-1',
    overlayColor: 'yellow',
    margin: { top: 5, right: 20, bottom: 5, left: 100 },
  }
);

new roughViz.Line({
    element: '#viz4',
    data: 'https://etejadag.github.io/global-warming/anomalies/insolation.csv',
    y1: 'CO2',
    xKey: 'Year',
    colors: ['blue'],
    fillWeight: 1,
    roughness: 1,
    width: window.innerWidth * 0.90 ,
    height: 350,
    strokeWidth: 1,
    legend: false,
    xAxisFontSize: '0rem',
    yAxisFontSize: '2rem',
    yLabel: 'Atmospheric CO2',
    labelFontSize: '2rem',
    tooltipFontSize: '2rem',
    overlayStart1: '-337',
    overlayEnd1: '-325',
    overlayStart2: '-244',
    overlayEnd2: '-231',
    overlayStart3: '-132',
    overlayEnd3: '-119',
    overlayStart4: '-14',
    overlayEnd4: '-1',
    overlayColor: 'yellow',
    margin: { top: 5, right: 20, bottom: 5, left: 100 },
  }
);

new roughViz.Line({
    element: '#viz3',
    data: 'https://etejadag.github.io/global-warming/anomalies/insolation.csv',
    y1: 'tempchange',
    xKey: 'Year',
    fillWeight: 1,
    colors: ['black'],
    roughness: 1,
    width: window.innerWidth * 0.90 ,
    height: 500,
    strokeWidth: 1,
    legend: false,
    xAxisFontSize: '0rem',
    yAxisFontSize: '2rem',
    yLabel: 'temperature change (C)',
    xLabel: 'years before present (in thousands)',
    labelFontSize: '2rem',
    tooltipFontSize: '2rem',
    overlayStart1: '-337',
    overlayEnd1: '-325',
    overlayStart2: '-244',
    overlayEnd2: '-231',
    overlayStart3: '-132',
    overlayEnd3: '-119',
    overlayStart4: '-14',
    overlayEnd4: '-1',
    overlayColor: 'yellow',
    overlayX: ['350', '300', '250', '200', '150', '100', '50', '0'],
    overlayXFontSize: '2rem',
    margin: { top: 5, right: 20, bottom: 150, left: 100 },
  }
);

new roughViz.Line({
    element: '#viz5',
    data: 'https://etejadag.github.io/global-warming/anomalies/co2-long.csv',
    y1: 'CO2',
    xKey: 'Year',
    fillWeight: 1,
    colors: ['coral'],
    roughness: 1,
    width: window.innerWidth * 0.90 ,
    height: 500,
    strokeWidth: 1,
    legend: false,
    overlayStart1: '-40',
    overlayEnd1: '10000',
    overlayColor: 'yellow',
    xAxisFontSize: '0rem',
    yAxisFontSize: '2rem',
    yLabel: 'Atmospheric CO2',
    xLabel: 'years before present (in thousands)',
    labelFontSize: '2rem',
    tooltipFontSize: '2rem',
    overlayX: ['800', '700', '600', '500', '400', '300', '200', '100', '0'],
    overlayXFontSize: '2rem',
    margin: { top: 5, right: 20, bottom: 150, left: 100 },
  }
);

new roughViz.Line({
    element: '#viz6',
    data: 'https://etejadag.github.io/global-warming/anomalies/co2-short.csv',
    y1: 'CO2',
    xKey: 'Year',
    fillWeight: 1,
    colors: ['skyblue'],
    roughness: 1,
    width: window.innerWidth * 0.90 ,
    height: 500,
    strokeWidth: 1,
    legend: false,
    xAxisFontSize: '0rem',
    yAxisFontSize: '2rem',
    yLabel: 'Atmospheric CO2',
    xLabel: 'year',
    labelFontSize: '2rem',
    tooltipFontSize: '2rem',
    overlayX: ['0', '337', '1011', '1348', '1685', '2022'],
    overlayXFontSize: '2rem',
    margin: { top: 150, right: 20, bottom: 150, left: 100 },
    title: 'the yellow area in the graph above, enlarged',
    titleFontSize: '3rem'
  }
);

/*new roughViz.Bar({
    element: '#viz1', // container selection
    data: 'https://etejadag.github.io/global-warming/anomalies/data-land.csv',
    labels: 'Year',
    values: 'Value',
    color: 'coral',
    highlight: 'darkred',
    width: window.innerWidth * 0.60 ,
    tooltipFontSize: '2rem',
    xAxisFontSize: '0rem',
    yAxisFontSize: '2rem',
    labelFontSize: '2rem',
});*/

// create Donut chart using defined data & customize plot options
//new roughViz.Donut(
//  {
//    element: '#viz1',
//    data: {
//      labels: ['North', 'South', 'East', 'West'],
//      values: [10, 5, 8, 3]
//    },
//    title: "Regions",
 //   width: window.innerWidth / 4,
 //   roughness: 8,
 //   colors: ['red', 'orange', 'blue', 'skyblue'],
 //   stroke: 'black',
 //   strokeWidth: 3,
 //   fillStyle: 'cross-hatch',
 //   fillWeight: 3.5,
 // }
//);
</script>
</html>